---
import DecorativeStrip from './DecorativeStrip.astro';

// Daftar Gambar Background
const backgrounds = [
    "/Imagery/sugarcane_bg.webp",  // Gambar 1
    "/Imagery/sugarcane_bg2.webp"  // Gambar 2
];
---

<header class="relative w-full h-[85vh] md:h-screen overflow-hidden flex flex-col items-center justify-center border-b-4 border-lampung-gold group">
    
    <div class="absolute inset-0 w-full h-full z-0">
        {backgrounds.map((bg, index) => (
            <img 
                src={bg} 
                alt={`Background ${index + 1}`} 
                class={`
                    absolute inset-0 w-full h-full object-cover object-center 
                    transition-opacity duration-[2000ms] ease-in-out
                    ${index === 0 ? 'opacity-100' : 'opacity-0'} 
                    bg-slide
                `}
                data-index={index}
            />
        ))}

        <div class="absolute inset-0 bg-gradient-to-b from-lampung-dark/90 via-lampung-dark/60 to-lampung-dark/90 z-10"></div>
        
        <div class="absolute inset-0 opacity-10 bg-[url('https://www.transparenttextures.com/patterns/batik-embossed.png')] z-10"></div>
    </div>

    <div class="relative z-20 text-center px-4 max-w-5xl mx-auto flex flex-col items-center gap-4 md:gap-6 mt-10">
        
        <div class="relative animate-float">
            <img 
                src="/Imagery/lampung_siger_traditional.webp" 
                alt="Siger Lampung" 
                class="h-24 md:h-40 lg:h-48 w-auto object-contain drop-shadow-[0_10px_20px_rgba(240,198,92,0.5)] filter brightness-110"
            />
        </div>

        <div class="space-y-2 md:space-y-4">
            <h2 class="text-lampung-bone text-[10px] md:text-sm tracking-[0.4em] font-serif uppercase opacity-90 mb-2 drop-shadow-md">
                Selamat Datang di Website Resmi
            </h2>
            
            <h1 class="text-4xl md:text-6xl lg:text-7xl font-bold text-transparent bg-clip-text bg-gradient-to-b from-lampung-bone via-white to-lampung-bone tracking-wide uppercase leading-tight font-serif drop-shadow-2xl">
                Desa <br class="md:hidden" /> Sukadana Ilir
            </h1>

            <div class="flex items-center justify-center gap-4 mt-4">
                <span class="h-[1px] w-8 md:w-20 bg-lampung-gold/70 shadow-[0_0_10px_#f0c65c]"></span>
                <p class="text-lampung-gold text-xs md:text-base tracking-widest uppercase font-serif font-bold drop-shadow-lg">
                    Kec. Bunga Mayang â€¢ Lampung Utara
                </p>
                <span class="h-[1px] w-8 md:w-20 bg-lampung-gold/70 shadow-[0_0_10px_#f0c65c]"></span>
            </div>
        </div>
    </div>

    <div class="absolute bottom-0 w-full z-30 bg-gradient-to-t from-black via-black/60 to-transparent pt-12 pb-4">
        <div class="opacity-100 scale-90 md:scale-100">
             <DecorativeStrip />
        </div>
    </div>

</header>

<style>
    @keyframes float {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-10px); }
    }
    .animate-float {
        animation: float 6s ease-in-out infinite;
    }
</style>

<script>
    // Script Slideshow Sederhana
    const slides = document.querySelectorAll('.bg-slide');
    let currentSlide = 0;
    const totalSlides = slides.length;
    const intervalTime = 5000; // 5000ms = 5 detik (Ubah ke 2000 jika ingin 2 detik)

    function nextSlide() {
        // Hilangkan opacity slide saat ini
        slides[currentSlide].classList.remove('opacity-100');
        slides[currentSlide].classList.add('opacity-0');

        // Pindah ke slide berikutnya (looping)
        currentSlide = (currentSlide + 1) % totalSlides;

        // Munculkan slide baru
        slides[currentSlide].classList.remove('opacity-0');
        slides[currentSlide].classList.add('opacity-100');
    }

    // Jalankan timer
    if (slides.length > 1) {
        setInterval(nextSlide, intervalTime);
    }
</script>